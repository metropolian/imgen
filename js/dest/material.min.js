!function(t){function i(t){return"undefined"==typeof t.which||"number"==typeof t.which&&t.which>0&&(!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!=t.which&&9!=t.which)}t.expr[":"].notmdproc=function(i){return!t(i).data("mdproc")},t.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple",".pagination li:not(.active, .disabled) a:not(.withoutripple)"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(i){t(i?i:this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(i){t(i?i:this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(i){t(i?i:this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(n){t(n?n:this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var i=t(this);if(t(this).attr("data-hint")||i.hasClass("floating-label")){if(i.wrap("<div class=form-control-wrapper></div>"),i.after("<span class=material-input></span>"),i.hasClass("floating-label")){var n=i.attr("placeholder");i.attr("placeholder",null).removeClass("floating-label"),i.after("<div class=floating-label>"+n+"</div>")}if(i.attr("data-hint")&&i.after("<div class=hint>"+i.attr("data-hint")+"</div>"),null!==i.val()&&"undefined"!=i.val()&&""!==i.val()||i.addClass("empty"),i.parent().next().is("[type=file]")){i.parent().addClass("fileinput");var o=i.parent().next().detach();i.after(o)}}}),t(document).on("change",".checkbox input[type=checkbox]",function(){t(this).blur()}).on("keydown paste",".form-control",function(n){i(n)&&t(this).removeClass("empty")}).on("keyup change",".form-control",function(){var i=t(this);""!==i.val()||"undefined"==typeof i[0].checkValidity||i[0].checkValidity()?i.removeClass("empty"):i.addClass("empty")}).on("focus",".form-control-wrapper.fileinput",function(){t(this).find("input").addClass("focus")}).on("blur",".form-control-wrapper.fileinput",function(){t(this).find("input").removeClass("focus")}).on("change",".form-control-wrapper.fileinput [type=file]",function(){var i="";t.each(t(this)[0].files,function(t,n){i+=n.name+", "}),i=i.substring(0,i.length-2),i?t(this).prev().removeClass("empty"):t(this).prev().addClass("empty"),t(this).prev().val(i)})},ripples:function(i){t(i?i:this.options.withRipples).ripples()},autofill:function(){var i=setInterval(function(){t("input[type!=checkbox]").each(function(){t(this).val()&&t(this).val()!==t(this).attr("value")&&t(this).trigger("change")})},100);setTimeout(function(){clearInterval(i)},1e4);var n;t(document).on("focus","input",function(){var i=t(this).parents("form").find("input").not("[type=file]");n=setInterval(function(){i.each(function(){t(this).val()!==t(this).attr("value")&&t(this).trigger("change")})},100)}).on("blur","input",function(){clearInterval(n)})},init:function(){t.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(t.fn.ripples&&this.options.ripples&&t(document).arrive(this.options.withRipples,function(){t.material.ripples(t(this))}),this.options.input&&t(document).arrive(this.options.inputElements,function(){t.material.input(t(this))}),this.options.checkbox&&t(document).arrive(this.options.checkboxElements,function(){t.material.checkbox(t(this))}),this.options.radio&&t(document).arrive(this.options.radioElements,function(){t.material.radio(t(this))}),this.options.togglebutton&&t(document).arrive(this.options.togglebuttonElements,function(){t.material.togglebutton(t(this))}))}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbIiQiLCJfaXNDaGFyIiwiZXZ0Iiwid2hpY2giLCJjdHJsS2V5IiwibWV0YUtleSIsImFsdEtleSIsImV4cHIiLCJub3RtZHByb2MiLCJvYmoiLCJkYXRhIiwibWF0ZXJpYWwiLCJvcHRpb25zIiwiaW5wdXQiLCJyaXBwbGVzIiwiY2hlY2tib3giLCJ0b2dnbGVidXR0b24iLCJyYWRpbyIsImFycml2ZSIsImF1dG9maWxsIiwid2l0aFJpcHBsZXMiLCJqb2luIiwiaW5wdXRFbGVtZW50cyIsImNoZWNrYm94RWxlbWVudHMiLCJ0b2dnbGVidXR0b25FbGVtZW50cyIsInJhZGlvRWxlbWVudHMiLCJzZWxlY3RvciIsInRoaXMiLCJmaWx0ZXIiLCJhZnRlciIsImVhY2giLCIkdGhpcyIsImF0dHIiLCJoYXNDbGFzcyIsIndyYXAiLCJwbGFjZWhvbGRlciIsInJlbW92ZUNsYXNzIiwidmFsIiwiYWRkQ2xhc3MiLCJwYXJlbnQiLCJuZXh0IiwiaXMiLCIkaW5wdXQiLCJkZXRhY2giLCJkb2N1bWVudCIsIm9uIiwiYmx1ciIsImUiLCJjaGVja1ZhbGlkaXR5IiwiZmluZCIsInZhbHVlIiwiZmlsZXMiLCJpIiwiZmlsZSIsIm5hbWUiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJwcmV2IiwibG9hZGluZyIsInNldEludGVydmFsIiwidHJpZ2dlciIsInNldFRpbWVvdXQiLCJjbGVhckludGVydmFsIiwiZm9jdXNlZCIsIiRpbnB1dHMiLCJwYXJlbnRzIiwibm90IiwiaW5pdCIsImZuIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FFQSxTQUFVQSxHQVVSLFFBQVNDLEdBQVFDLEdBQ2YsTUFBd0IsbUJBQWJBLEdBQUlDLE9BRWdCLGdCQUFiRCxHQUFJQyxPQUFxQkQsRUFBSUMsTUFBUSxLQUM3Q0QsRUFBSUUsVUFBWUYsRUFBSUcsVUFBWUgsRUFBSUksUUFBdUIsR0FBYkosRUFBSUMsT0FBMkIsR0FBYkQsRUFBSUMsT0FaaEZILEVB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QUFFMkIsU0FHckJBLEtBQUtmLFFBQVFDLE9BQ2ZiLEVBQUU0QyxVQUFVMUIsT0FBT1MsS0FBS2YsUUFBUVUsY0FBZSxXQUM3Q3RCLEVBQUVXLFNBQVNFLE1BQU1iLEVBQUUyQixTQUduQkEsS0FBS2YsUUFBUUcsVUFDZmYsRUFBRTRDLFVBQVUxQixPQUFPUyxLQUFLZixRQUFRVyxpQkFBa0IsV0FDaER2QixFQUFFVyxTQUFTSSxTQUFTZixFQUFFMkIsU0FHdEJBLEtBQUtmLFFBQVFLLE9BQ2ZqQixFQUFFNEMsVUFBVTFCLE9BQU9TLEtBQUtmLFFBQVFhLGNBQWUsV0FDN0N6QixFQUFFVyxTQUFTTSxNQUFNakIsRUFBRTJCLFNBR25CQSxLQUFLZixRQUFRSSxjQUNmaEIsRUFBRTRDLFVBQVUxQixPQUFPUyxLQUFLZixRQUFRWSxxQkFBc0IsV0FDcER4QixFQUFFVyxTQUFTSyxhQUFhaEIsRUFBRTJCLGFBUW5DMEMiLCJmaWxlIjoibWF0ZXJpYWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBqUXVlcnkgKi9cclxuXHJcbihmdW5jdGlvbigkKSB7XHJcbiAgLy8gU2VsZWN0b3IgdG8gc2VsZWN0IG9ubHkgbm90IGFscmVhZHkgcHJvY2Vzc2VkIGVsZW1lbnRzXHJcbiAgJC5leHByW1wiOlwiXS5ub3RtZHByb2MgPSBmdW5jdGlvbihvYmope1xyXG4gICAgaWYgKCQob2JqKS5kYXRhKFwibWRwcm9jXCIpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIF9pc0NoYXIoZXZ0KSB7XHJcbiAgICBpZiAodHlwZW9mIGV2dC53aGljaCA9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXZ0LndoaWNoID09IFwibnVtYmVyXCIgJiYgZXZ0LndoaWNoID4gMCkge1xyXG4gICAgICByZXR1cm4gIWV2dC5jdHJsS2V5ICYmICFldnQubWV0YUtleSAmJiAhZXZ0LmFsdEtleSAmJiBldnQud2hpY2ggIT0gOCAmJiBldnQud2hpY2ggIT0gOTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gICQubWF0ZXJpYWwgPSAge1xyXG4gICAgXCJvcHRpb25zXCI6IHtcclxuICAgICAgLy8gVGhlc2Ugb3B0aW9ucyBzZXQgd2hhdCB3aWxsIGJlIHN0YXJ0ZWQgYnkgJC5tYXRlcmlhbC5pbml0KClcclxuICAgICAgXCJpbnB1dFwiOiB0cnVlLFxyXG4gICAgICBcInJpcHBsZXNcIjogdHJ1ZSxcclxuICAgICAgXCJjaGVja2JveFwiOiB0cnVlLFxyXG4gICAgICBcInRvZ2dsZWJ1dHRvblwiOiB0cnVlLFxyXG4gICAgICBcInJhZGlvXCI6IHRydWUsXHJcbiAgICAgIFwiYXJyaXZlXCI6IHRydWUsXHJcbiAgICAgIFwiYXV0b2ZpbGxcIjogZmFsc2UsXHJcblxyXG4gICAgICBcIndpdGhSaXBwbGVzXCI6IFtcclxuICAgICAgICBcIi5idG46bm90KC5idG4tbGluaylcIixcclxuICAgICAgICBcIi5jYXJkLWltYWdlXCIsXHJcbiAgICAgICAgXCIubmF2YmFyIGE6bm90KC53aXRob3V0cmlwcGxlKVwiLFxyXG4gICAgICAgIFwiLmRyb3Bkb3duLW1lbnUgYVwiLFxyXG4gICAgICAgIFwiLm5hdi10YWJzIGE6bm90KC53aXRob3V0cmlwcGxlKVwiLFxyXG4gICAgICAgIFwiLndpdGhyaXBwbGVcIixcclxuICAgICAgICBcIi5wYWdpbmF0aW9uIGxpOm5vdCguYWN0aXZlLCAuZGlzYWJsZWQpIGE6bm90KC53aXRob3V0cmlwcGxlKVwiXHJcbiAgICAgIF0uam9pbihcIixcIiksXHJcbiAgICAgIFwiaW5wdXRFbGVtZW50c1wiOiBcImlucHV0LmZvcm0tY29udHJvbCwgdGV4dGFyZWEuZm9ybS1jb250cm9sLCBzZWxlY3QuZm9ybS1jb250cm9sXCIsXHJcbiAgICAgIFwiY2hlY2tib3hFbGVtZW50c1wiOiBcIi5jaGVja2JveCA+IGxhYmVsID4gaW5wdXRbdHlwZT1jaGVja2JveF1cIixcclxuICAgICAgXCJ0b2dnbGVidXR0b25FbGVtZW50c1wiOiBcIi50b2dnbGVidXR0b24gPiBsYWJlbCA+IGlucHV0W3R5cGU9Y2hlY2tib3hdXCIsXHJcbiAgICAgIFwicmFkaW9FbGVtZW50c1wiOiBcIi5yYWRpbyA+IGxhYmVsID4gaW5wdXRbdHlwZT1yYWRpb11cIlxyXG4gICAgfSxcclxuICAgIFwiY2hlY2tib3hcIjogZnVuY3Rpb24oc2VsZWN0b3IpIHtcclxuICAgICAgLy8gQWRkIGZha2UtY2hlY2tib3ggdG8gbWF0ZXJpYWwgY2hlY2tib3hlc1xyXG4gICAgICAkKChzZWxlY3RvcikgPyBzZWxlY3RvciA6IHRoaXMub3B0aW9ucy5jaGVja2JveEVsZW1lbnRzKVxyXG4gICAgICAuZmlsdGVyKFwiOm5vdG1kcHJvY1wiKVxyXG4gICAgICAuZGF0YShcIm1kcHJvY1wiLCB0cnVlKVxyXG4gICAgICAuYWZ0ZXIoXCI8c3BhbiBjbGFzcz1jaGVja2JveC1tYXRlcmlhbD48c3BhbiBjbGFzcz1jaGVjaz48L3NwYW4+PC9zcGFuPlwiKTtcclxuICAgIH0sXHJcbiAgICBcInRvZ2dsZWJ1dHRvblwiOiBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG4gICAgICAvLyBBZGQgZmFrZS1jaGVja2JveCB0byBtYXRlcmlhbCBjaGVja2JveGVzXHJcbiAgICAgICQoKHNlbGVjdG9yKSA/IHNlbGVjdG9yIDogdGhpcy5vcHRpb25zLnRvZ2dsZWJ1dHRvbkVsZW1lbnRzKVxyXG4gICAgICAuZmlsdGVyKFwiOm5vdG1kcHJvY1wiKVxyXG4gICAgICAuZGF0YShcIm1kcHJvY1wiLCB0cnVlKVxyXG4gICAgICAuYWZ0ZXIoXCI8c3BhbiBjbGFzcz10b2dnbGU+PC9zcGFuPlwiKTtcclxuICAgIH0sXHJcbiAgICBcInJhZGlvXCI6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XHJcbiAgICAgIC8vIEFkZCBmYWtlLXJhZGlvIHRvIG1hdGVyaWFsIHJhZGlvc1xyXG4gICAgICAkKChzZWxlY3RvcikgPyBzZWxlY3RvciA6IHRoaXMub3B0aW9ucy5yYWRpb0VsZW1lbnRzKVxyXG4gICAgICAuZmlsdGVyKFwiOm5vdG1kcHJvY1wiKVxyXG4gICAgICAuZGF0YShcIm1kcHJvY1wiLCB0cnVlKVxyXG4gICAgICAuYWZ0ZXIoXCI8c3BhbiBjbGFzcz1jaXJjbGU+PC9zcGFuPjxzcGFuIGNsYXNzPWNoZWNrPjwvc3Bhbj5cIik7XHJcbiAgICB9LFxyXG4gICAgXCJpbnB1dFwiOiBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG4gICAgICAkKChzZWxlY3RvcikgPyBzZWxlY3RvciA6IHRoaXMub3B0aW9ucy5pbnB1dEVsZW1lbnRzKVxyXG4gICAgICAuZmlsdGVyKFwiOm5vdG1kcHJvY1wiKVxyXG4gICAgICAuZGF0YShcIm1kcHJvY1wiLCB0cnVlKVxyXG4gICAgICAuZWFjaCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKCEkKHRoaXMpLmF0dHIoXCJkYXRhLWhpbnRcIikgJiYgISR0aGlzLmhhc0NsYXNzKFwiZmxvYXRpbmctbGFiZWxcIikpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHRoaXMud3JhcChcIjxkaXYgY2xhc3M9Zm9ybS1jb250cm9sLXdyYXBwZXI+PC9kaXY+XCIpO1xyXG4gICAgICAgICR0aGlzLmFmdGVyKFwiPHNwYW4gY2xhc3M9bWF0ZXJpYWwtaW5wdXQ+PC9zcGFuPlwiKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGZsb2F0aW5nIGxhYmVsIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKFwiZmxvYXRpbmctbGFiZWxcIikpIHtcclxuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9ICR0aGlzLmF0dHIoXCJwbGFjZWhvbGRlclwiKTtcclxuICAgICAgICAgICR0aGlzLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBudWxsKS5yZW1vdmVDbGFzcyhcImZsb2F0aW5nLWxhYmVsXCIpO1xyXG4gICAgICAgICAgJHRoaXMuYWZ0ZXIoXCI8ZGl2IGNsYXNzPWZsb2F0aW5nLWxhYmVsPlwiICsgcGxhY2Vob2xkZXIgKyBcIjwvZGl2PlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBoaW50IGxhYmVsIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgaWYgKCR0aGlzLmF0dHIoXCJkYXRhLWhpbnRcIikpIHtcclxuICAgICAgICAgICR0aGlzLmFmdGVyKFwiPGRpdiBjbGFzcz1oaW50PlwiICsgJHRoaXMuYXR0cihcImRhdGEtaGludFwiKSArIFwiPC9kaXY+XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGFzIGVtcHR5IGlmIGlzIGVtcHR5IChkYW1uIEkgbXVzdCBpbXByb3ZlIHRoaXMuLi4pXHJcbiAgICAgICAgaWYgKCR0aGlzLnZhbCgpID09PSBudWxsIHx8ICR0aGlzLnZhbCgpID09IFwidW5kZWZpbmVkXCIgfHwgJHRoaXMudmFsKCkgPT09IFwiXCIpIHtcclxuICAgICAgICAgICR0aGlzLmFkZENsYXNzKFwiZW1wdHlcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdXBwb3J0IGZvciBmaWxlIGlucHV0XHJcbiAgICAgICAgaWYgKCR0aGlzLnBhcmVudCgpLm5leHQoKS5pcyhcIlt0eXBlPWZpbGVdXCIpKSB7XHJcbiAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcyhcImZpbGVpbnB1dFwiKTtcclxuICAgICAgICAgIHZhciAkaW5wdXQgPSAkdGhpcy5wYXJlbnQoKS5uZXh0KCkuZGV0YWNoKCk7XHJcbiAgICAgICAgICAkdGhpcy5hZnRlcigkaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAub24oXCJjaGFuZ2VcIiwgXCIuY2hlY2tib3ggaW5wdXRbdHlwZT1jaGVja2JveF1cIiwgZnVuY3Rpb24oKSB7ICQodGhpcykuYmx1cigpOyB9KVxyXG4gICAgICAub24oXCJrZXlkb3duIHBhc3RlXCIsIFwiLmZvcm0tY29udHJvbFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYoX2lzQ2hhcihlKSkge1xyXG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImVtcHR5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLm9uKFwia2V5dXAgY2hhbmdlXCIsIFwiLmZvcm0tY29udHJvbFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIGlmICgkdGhpcy52YWwoKSA9PT0gXCJcIiAmJiAodHlwZW9mICR0aGlzWzBdLmNoZWNrVmFsaWRpdHkgIT0gXCJ1bmRlZmluZWRcIiAmJiAhJHRoaXNbMF0uY2hlY2tWYWxpZGl0eSgpKSkge1xyXG4gICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoXCJlbXB0eVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoXCJlbXB0eVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbihcImZvY3VzXCIsIFwiLmZvcm0tY29udHJvbC13cmFwcGVyLmZpbGVpbnB1dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5hZGRDbGFzcyhcImZvY3VzXCIpO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oXCJibHVyXCIsIFwiLmZvcm0tY29udHJvbC13cmFwcGVyLmZpbGVpbnB1dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5yZW1vdmVDbGFzcyhcImZvY3VzXCIpO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oXCJjaGFuZ2VcIiwgXCIuZm9ybS1jb250cm9sLXdyYXBwZXIuZmlsZWlucHV0IFt0eXBlPWZpbGVdXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgJC5lYWNoKCQodGhpcylbMF0uZmlsZXMsIGZ1bmN0aW9uKGksIGZpbGUpIHtcclxuICAgICAgICAgIHZhbHVlICs9IGZpbGUubmFtZSArIFwiLCBcIjtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAyKTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICQodGhpcykucHJldigpLnJlbW92ZUNsYXNzKFwiZW1wdHlcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQodGhpcykucHJldigpLmFkZENsYXNzKFwiZW1wdHlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcykucHJldigpLnZhbCh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIFwicmlwcGxlc1wiOiBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG4gICAgICAkKChzZWxlY3RvcikgPyBzZWxlY3RvciA6IHRoaXMub3B0aW9ucy53aXRoUmlwcGxlcykucmlwcGxlcygpO1xyXG4gICAgfSxcclxuICAgIFwiYXV0b2ZpbGxcIjogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAvLyBUaGlzIHBhcnQgb2YgY29kZSB3aWxsIGRldGVjdCBhdXRvZmlsbCB3aGVuIHRoZSBwYWdlIGlzIGxvYWRpbmcgKHVzZXJuYW1lIGFuZCBwYXNzd29yZCBpbnB1dHMgZm9yIGV4YW1wbGUpXHJcbiAgICAgIHZhciBsb2FkaW5nID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcImlucHV0W3R5cGUhPWNoZWNrYm94XVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgJiYgJCh0aGlzKS52YWwoKSAhPT0gJCh0aGlzKS5hdHRyKFwidmFsdWVcIikpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgLy8gQWZ0ZXIgMTAgc2Vjb25kcyB3ZSBhcmUgcXVpdGUgc3VyZSBhbGwgdGhlIG5lZWRlZCBpbnB1dHMgYXJlIGF1dG9maWxsZWQgdGhlbiB3ZSBjYW4gc3RvcCBjaGVja2luZyB0aGVtXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChsb2FkaW5nKTtcclxuICAgICAgfSwgMTAwMDApO1xyXG4gICAgICAvLyBOb3cgd2UganVzdCBsaXN0ZW4gb24gaW5wdXRzIG9mIHRoZSBmb2N1c2VkIGZvcm0gKGJlY2F1c2UgdXNlciBjYW4gc2VsZWN0IGZyb20gdGhlIGF1dG9maWxsIGRyb3Bkb3duIG9ubHkgd2hlbiB0aGUgaW5wdXQgaGFzIGZvY3VzKVxyXG4gICAgICB2YXIgZm9jdXNlZDtcclxuICAgICAgJChkb2N1bWVudClcclxuICAgICAgLm9uKFwiZm9jdXNcIiwgXCJpbnB1dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJGlucHV0cyA9ICQodGhpcykucGFyZW50cyhcImZvcm1cIikuZmluZChcImlucHV0XCIpLm5vdChcIlt0eXBlPWZpbGVdXCIpO1xyXG4gICAgICAgIGZvY3VzZWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRpbnB1dHMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICQodGhpcykuYXR0cihcInZhbHVlXCIpKSB7XHJcbiAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oXCJibHVyXCIsIFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChmb2N1c2VkKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgXCJpbml0XCI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoJC5mbi5yaXBwbGVzICYmIHRoaXMub3B0aW9ucy5yaXBwbGVzKSB7XHJcbiAgICAgICAgdGhpcy5yaXBwbGVzKCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnB1dCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXQoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrYm94KSB7XHJcbiAgICAgICAgdGhpcy5jaGVja2JveCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlYnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVidXR0b24oKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnJhZGlvKSB7XHJcbiAgICAgICAgdGhpcy5yYWRpbygpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b2ZpbGwpIHtcclxuICAgICAgICB0aGlzLmF1dG9maWxsKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkb2N1bWVudC5hcnJpdmUgJiYgdGhpcy5vcHRpb25zLmFycml2ZSkge1xyXG4gICAgICAgIGlmICgkLmZuLnJpcHBsZXMgJiYgdGhpcy5vcHRpb25zLnJpcHBsZXMpIHtcclxuICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZSh0aGlzLm9wdGlvbnMud2l0aFJpcHBsZXMsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkLm1hdGVyaWFsLnJpcHBsZXMoJCh0aGlzKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnB1dCkge1xyXG4gICAgICAgICAgJChkb2N1bWVudCkuYXJyaXZlKHRoaXMub3B0aW9ucy5pbnB1dEVsZW1lbnRzLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJC5tYXRlcmlhbC5pbnB1dCgkKHRoaXMpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrYm94KSB7XHJcbiAgICAgICAgICAkKGRvY3VtZW50KS5hcnJpdmUodGhpcy5vcHRpb25zLmNoZWNrYm94RWxlbWVudHMsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkLm1hdGVyaWFsLmNoZWNrYm94KCQodGhpcykpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFkaW8pIHtcclxuICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZSh0aGlzLm9wdGlvbnMucmFkaW9FbGVtZW50cywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQubWF0ZXJpYWwucmFkaW8oJCh0aGlzKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGVidXR0b24pIHtcclxuICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZSh0aGlzLm9wdGlvbnMudG9nZ2xlYnV0dG9uRWxlbWVudHMsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkLm1hdGVyaWFsLnRvZ2dsZWJ1dHRvbigkKHRoaXMpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxufSkoalF1ZXJ5KTtcclxuIl19
